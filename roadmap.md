# AI駆動型ブログ・ポートフォリオサイト 開発ロードマップ

## 0. 前提・運用ポリシー
- 本プロジェクトは私個人のウェブサイト（ブログ兼ポートフォリオ）です。
- 生成する出力はデフォルトで日本語。ユーザーが「英語で」と明示した行のみ日英併記。
- 命名規約: ファイル/ディレクトリは英字 snake_case。ドキュメントは *.md、コードは src/ 配下。
- 開発手法: バイブコーディングで段階的に優先順位を付けて実装。
- バックエンド: Firebase（Authentication, Firestore, Hosting, Functions, Storage）。
- ブログ記事: 管理者ページから Gemini API で自動生成し、そのまま投稿可能（編集機能あり）。未ログイン時は AI ライターをナビ非表示。
- ブランド: LogicEdge（ナビに「ポートフォリオ」リンクを表示）。

### ブランド情報（参照用）
**キャッチコピー案**  
LogicEdge — 小さな一歩から切り拓く、AIとWebの可能性

**ブランドストーリー（トップページ用・短文）**  
LogicEdge は、AIとWebの世界を独学で探求する個人プロジェクトです。実績はまだ少ないですが、好奇心と試行錯誤で、思いついたアイデアをすぐカタチにすることが得意です。「まずやってみる」を合言葉に、日々スキルを磨きながら、クライアントのアイデア実現にも挑戦しています。

**自己紹介テキスト（ポートフォリオ兼ブログ用）**  
はじめまして。LogicEdge のkazuです。趣味の延長からスタートし、AIとWeb制作を独学で学び続けています。コードはほとんど書かず、ノーコードやバイブコーディングでアイデアをすばやく形にするのがスタイルです。

できること
- 簡易的なWebサイト制作（バイブコーディング）
- AIを活用した記事作成・コンテンツ生成
- 小規模な自動化ツールや作業効率化の仕組みづくり

モットー  
完璧じゃなくても、まず試す。そして改善する。これからの経験を積み重ねる中で、あなたのアイデアを一緒に育てていけたら嬉しいです。

## 1. プロジェクト概要

### 目的・価値
- **ポートフォリオ**: 作品とプロフィールをわかりやすく提示
- **仕事獲得**: 問い合わせ導線と信頼獲得（実績・記事）
- **AI記事生成（MVP）**: Gemini による迅速な記事作成と編集
- **収益の土台**: アフィリエイト準備、将来的にサブスク対応
- **個人ブランディング**: LogicEdge としての一貫したトーンとデザイン

### ターゲットユーザー
- 採用担当者
- クライアント
- 友人・知人
- 技術コミュニティ

### MVP コア機能要件
1. **基本的なブログ機能**
   - 記事の作成・編集・削除（CRUD）
   - マークダウンエディタ
   - カテゴリ・タグ機能

2. **シンプルなAI記事生成**
   - 基本的なプロンプトベースの記事生成
   - シンプルなフォーマット（見出し、段落、リスト）
   - 手動での画像アップロード

3. **認証機能**
   - メール/パスワード認証（シングルユーザー運用。サインアップ無効化）
   - 管理者ダッシュボード

4. **レスポンシブUI**
   - モバイル対応デザイン
   - ダークモード対応

## 2. フェーズ分割と優先順位

### Phase 1: 基盤構築 
**目標**: 基本的なブログ機能とFirebase連携

#### 1.1 プロジェクト初期化 
- [x] Next.js + TypeScript プロジェクト作成
- [x] Tailwind CSS + PostCSS 設定
- [x] 環境変数テンプレート作成
- [x] 基本的なファイル構造構築

#### 1.2 認証システム (優先度: 高)
- [x] Firebase Authentication 設定
- [x] ログイン/ログアウト機能
- [ ] 管理者権限システム
- [x] プロテクトされたルート（`AuthGuard`/`PrivateRoute`）

#### 1.3 基本ブログ機能 (優先度: 高)
- [x] 記事CRUD操作（新規/編集/削除/一覧/詳細）
- [x] Firestore データベース設計（`posts` コレクション、slug/published対応）
- [x] リッチテキストエディター（基本フォーマット対応）
- [x] 記事一覧・詳細表示（公開記事のみ表示、slugルーティング）
- [x] 検索・フィルター機能
- [ ] アフィリエイトリンク管理システム

#### 1.4 基盤強化/DevOps (優先度: 高)
- [x] TypeScript 厳格化（`strict`/`noEmit`）
- [x] CI: lint / type-check / build（GitHub Actions）
- [x] `clean`/`format` スクリプト追加（ビルドキャッシュ対策/整形）
- [x] Firestore セキュリティルール適用（`firestore.rules`）
- [x] 最小テスト基盤（Jest + RTL、Smoke test）

### Phase 2: シンプルなAI記事生成 [MVP]
**目標**: 最小限のAI機能で価値を提供

#### 2.1 基本的なAI記事生成 (優先度: 高)
- [x] シンプルなプロンプト入力フォーム
- [x] 基本的な記事生成（見出し、段落、リスト）
- [x] 生成結果の編集機能
- [x] 下書き保存機能

#### 2.2 マークダウンエディタ (優先度: 高)
- [x] 基本的なマークダウン記法サポート
- [x] 画像アップロード機能
- [x] シンプルなプレビュー機能

#### 2.3 記事管理 (優先度: 高)
- [x] 記事一覧表示
- [x] 下書き管理
- [x] 公開/非公開の切り替え

### Phase 3: 認証と管理機能 [MVP]
**目標**: 基本的な認証と管理機能の実装

#### 3.1 認証機能 (優先度: 高)
- [x] メール/パスワード認証
- [x] ログイン/ログアウト機能
- [x] パスワードリセット（ログイン→/reset-password 導線）
- [x] サインアップ無効化（シングルユーザー）

#### 3.2 管理画面 (優先度: 高)
  - [x] ダッシュボード
    - [x] 記事一覧表示
    - [x] 新規記事作成
    - [x] 記事編集
    - [x] 記事削除
  - [x] 認証システム
    - [x] ログイン/ログアウト
    - [x] サインアップ無効化（シングルユーザー）
    - [x] パスワードリセット（ログイン→/reset-password 導線）
  - [ ] ユーザー管理（シングルユーザーのためMVP対象外）

### Phase 4: 公開機能 + ポートフォリオ [MVP中期]
**目標**: ブログ記事の公開・表示機能の実装

#### 4.1 公開記事表示 (優先度: 高)
  - [x] 記事一覧ページ（公開記事のみ）
  - [x] 個別記事ページ（slug）
  - [x] タグ機能
  - [x] カテゴリ機能
  - [x] 関連記事表示

#### 4.2 ポートフォリオ/プロフィール（/about）(優先度: 高)
- [ ] 自己紹介・ブランドストーリー・連絡先の掲載
- [ ] 実績セクション（最小の作品カード）
- [ ] SNSリンクの設置

### Phase 5: UI/UX改善 [MVP後期]
**目標**: 使いやすいUIの実装

#### 5.1 レスポンシブデザイン (優先度: 高)
- [ ] モバイル対応
- [ ] タブレット対応
- [ ] デスクトップ最適化

#### 5.2 ダークモード (優先度: 中)
- [x] テーマ切り替え機能
- [x] システム設定連携

### Phase 6: 収益化・拡張機能 [将来実装]
**目標**: MVP後の機能拡張

#### 6.1 高度なAI機能 (優先度: 中)
- [ ] RAGシステム
- [ ] リアルタイムWeb検索
- [ ] SEO最適化

#### 6.2 ポートフォリオ機能 (優先度: 低)
- [ ] 作品一覧
- [ ] プロジェクト詳細
- [ ] スキルセット表示

#### 6.3 アフィリエイト機能 (優先度: 低)
- [ ] リンク管理
- [ ] トラッキング

#### 6.4 サブスクリプション (優先度: 低)
- [ ] 有料会員機能
- [ ] 決済統合

## 3. 主要機能一覧

### MVP コア機能
1. **ブログシステム**
   - 記事の作成・編集・削除
   - マークダウンエディタ
   - カテゴリ・タグ機能

2. **シンプルなAI記事生成**
   - プロンプトベースの記事生成
   - 基本的なフォーマット
   - 手動画像アップロード

3. **認証機能**
   - メール/パスワード認証
   - 管理者ダッシュボード

4. **レスポンシブUI**
   - モバイルファーストデザイン
   - ダークモード対応

### 将来の拡張機能
1. **高度なAI機能** - RAG、リアルタイム検索
2. **AI画像生成** - 自動アイキャッチ画像
3. **ポートフォリオ機能** - 展示会風の3Dポートフォリオ空間（ブログからリンク）
4. **アフィリエイトシステム** - 収益化
5. **サブスクリプション** - 一部記事の限定公開＋裏話動画
6. **Live2D/VRM** - アシスタント表示（ユーザー選択可）

## 4. 想定スケジュール

### 短期 (1-2週間)
- Phase 1 完了
- 基本的なブログ機能稼働
- Firebase 完全統合

### 中期 (1ヶ月)
- Phase 2 完了
- 美麗なUI/UX実装
- レスポンシブ対応

### 長期 (2-3ヶ月)
- Phase 3-5 段階的実装
- 収益化機能実装
- インタラクティブ機能強化

## 5. 技術スタック

### フロントエンド
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS + Framer Motion
- **Editor**: React Rich Text Editor (Draft.js / Slate.js)
- **3D**: Three.js + React Three Fiber
- **Live2D**: Cubism SDK for Web

### バックエンド
- **Authentication**: Firebase Auth
- **Database**: Firestore
- **Storage**: Firebase Storage
- **Hosting**: Firebase Hosting
- **Functions**: Firebase Functions

### MVP 技術スタック
- **フロントエンド**: Next.js 14, TypeScript, Tailwind CSS
- **バックエンド**: Firebase (Auth, Firestore, Storage, Hosting, Functions)
- **AI統合**: Google Gemini（デフォルト）+ OpenAI（オプション）
- **エディタ**: マークダウンエディタ

### 将来の拡張
- **高度なAI**: RAG, ベクトルDB
- **画像生成**: DALL-E / Midjourney
- **収益化**: Stripe, アフィリエイト

### 開発ツール
- **Package Manager**: npm
- **Linting**: ESLint + Prettier
- **Testing**: Jest + React Testing Library
- **CI/CD**: GitHub Actions（lint / type-check / build）

## 6. 技術課題と対策案

### 1. 認証・認可
**課題**: セキュアなユーザー管理
**対策**:
- Firebase Authentication の適切な実装
- ロールベースのアクセス制御
- パスワードリセット機能

### 2. データ構造設計
**課題**: スケーラブルなデータモデル
**対策**:
- 適切なFirestoreコレクション設計
- セキュリティルールの適切な設定
- データバックアップ戦略

### 3. パフォーマンス最適化
**課題**: 高速なページ読み込み
**対策**:
- 画像最適化
- コード分割
- キャッシュ戦略の実装

### 4. モバイル対応
**課題**: 様々なデバイスでの表示最適化
**対策**:
- モバイルファーストデザイン
- タッチ操作への対応
- オフライン機能の検討

### 5. AI統合のコスト/品質管理
**課題**: APIコストの増大と出力品質のばらつき
**対策**:
- プロンプトテンプレートのA/B検証とガードレール実装
- レート制限と失敗時の再試行・フォールバック（Gemini→ローカル下書き保存）
- コストメトリクスの可視化（生成回数・トークン量の集計）

### 6. RAG/リアルタイム検索の技術的難易度
**課題**: ベクトルDBや検索APIの統合、レイテンシ管理
**対策**:
- フェーズ分割（まずはMVPで非RAG、将来段階的に導入）
- キャッシュ戦略とサマリ精度の評価手順を整備
- インデックス更新のジョブ化（Functions）

### 7. セキュリティ/運用
**課題**: 秘密情報管理・履歴クリーン化・キー漏洩リスク
**対策**:
- GitHub Secret Scanningの継続監視、APIキーの定期ローテーション
- `.env.local`・ビルド生成物の非追跡を維持（`.gitignore`）
- CIは master/main 両対応、事故時は履歴再クリーン化手順をドキュメント化

## 7. 重大エラー発生時の処理方針

### エラー分類
1. **Critical**: サービス停止レベル
2. **High**: 主要機能影響
3. **Medium**: 一部機能影響
4. **Low**: UI/UX問題

### 対応フロー
1. **即座の影響範囲特定**
2. **暫定的な回避策実装**
3. **根本原因調査**
4. **恒久的な修正実装**
5. **再発防止策検討**

### エラーレポート形式
重大エラー発生時は、次の <error-report> ブロックを必ず生成してください。
```
<error-report>
原因: [技術的詳細]
現状の進捗への影響: [具体的な影響範囲]
暫定的な対処案: [即座に実行可能な対策]
</error-report>
```

## 8. 成功指標

### 技術指標
- ページロード時間 < 3秒
- Lighthouse スコア > 90
- モバイル対応率 100%

### ビジネス指標
- 月間PV目標: 1,000+
- 問い合わせ件数: 月5件+
- サブスク登録者: 50人+

---

**最終更新**: 2025-08-10
**ステータス**: Phase 2 進行中（Phase 1 完了）

## 9. 次のアクション
- /about（ポートフォリオ）最小構成の実装：ブランドストーリー・自己紹介・連絡先
- ナビに「ポートフォリオ」リンクを表示（AIライターは未ログイン時は非表示を維持）
- AIライターの既定プロバイダーを Gemini に固定（OpenAI はオプション選択）
- sitemap.ts / robots.ts / メタデータのスモークテストを維持
- 画像アップロード運用の再確認（Storage ルールはデプロイ済み）
- `npm run ci:check` と `npm audit` の定期実行で安定性・脆弱性を監視
- Firestore 複合インデックスの監視と必要時の更新
