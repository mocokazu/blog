# AI駆動型ブログ・ポートフォリオサイト 開発ロードマップ

## 1. プロジェクト概要

### 目的・価値
- **AI記事生成**: リアルタイム検索とRAG実装による高品質コンテンツ自動生成
- **仕事の依頼獲得**: 技術力とクリエイティビティをアピール
- **作品紹介**: ポートフォリオとしての機能
- **個人ブランディング**: プロフェッショナルな印象を与える
- **収益化**: アフィリエイトリンクとサブスクリプション機能による継続的収入

### ターゲットユーザー
- ブログ運営者・コンテンツクリエイター
- アフィリエイトマーケター
- 採用担当者
- 潜在的クライアント
- 友人・知人
- 技術コミュニティ

### MVP コア機能要件
1. **基本的なブログ機能**
   - 記事の作成・編集・削除（CRUD）
   - マークダウンエディタ
   - カテゴリ・タグ機能

2. **シンプルなAI記事生成**
   - 基本的なプロンプトベースの記事生成
   - シンプルなフォーマット（見出し、段落、リスト）
   - 手動での画像アップロード

3. **認証機能**
   - メール/パスワード認証（シングルユーザー運用。サインアップ無効化）
   - 管理者ダッシュボード

4. **レスポンシブUI**
   - モバイル対応デザイン
   - ダークモード対応

## 2. フェーズ分割と優先順位

### Phase 1: 基盤構築 
**目標**: 基本的なブログ機能とFirebase連携

#### 1.1 プロジェクト初期化 
- [x] Next.js + TypeScript プロジェクト作成
- [x] Tailwind CSS + PostCSS 設定
- [x] 環境変数テンプレート作成
- [x] 基本的なファイル構造構築

#### 1.2 認証システム (優先度: 高)
- [x] Firebase Authentication 設定
- [x] ログイン/ログアウト機能
- [ ] 管理者権限システム
- [x] プロテクトされたルート（`AuthGuard`/`PrivateRoute`）

#### 1.3 基本ブログ機能 (優先度: 高)
- [x] 記事CRUD操作（新規/編集/削除/一覧/詳細）
- [x] Firestore データベース設計（`posts` コレクション、slug/published対応）
- [x] リッチテキストエディター（基本フォーマット対応）
- [x] 記事一覧・詳細表示（公開記事のみ表示、slugルーティング）
- [x] 検索・フィルター機能
- [ ] アフィリエイトリンク管理システム

#### 1.4 基盤強化/DevOps (優先度: 高)
- [x] TypeScript 厳格化（`strict`/`noEmit`）
- [x] CI: lint / type-check / build（GitHub Actions）
- [x] `clean`/`format` スクリプト追加（ビルドキャッシュ対策/整形）
- [x] Firestore セキュリティルール適用（`firestore.rules`）
- [x] 最小テスト基盤（Jest + RTL、Smoke test）

### Phase 2: シンプルなAI記事生成 [MVP]
**目標**: 最小限のAI機能で価値を提供

#### 2.1 基本的なAI記事生成 (優先度: 高)
- [x] シンプルなプロンプト入力フォーム
- [x] 基本的な記事生成（見出し、段落、リスト）
- [x] 生成結果の編集機能
- [x] 下書き保存機能

#### 2.2 マークダウンエディタ (優先度: 高)
- [x] 基本的なマークダウン記法サポート
- [x] 画像アップロード機能
- [x] シンプルなプレビュー機能

#### 2.3 記事管理 (優先度: 高)
- [x] 記事一覧表示
- [x] 下書き管理
- [x] 公開/非公開の切り替え

### Phase 3: 認証と管理機能 [MVP]
**目標**: 基本的な認証と管理機能の実装

#### 3.1 認証機能 (優先度: 高)
- [x] メール/パスワード認証
- [x] ログイン/ログアウト機能
- [x] パスワードリセット（ログイン→/reset-password 導線）
- [x] サインアップ無効化（シングルユーザー）

#### 3.2 管理画面 (優先度: 高)
  - [x] ダッシュボード
    - [x] 記事一覧表示
    - [x] 新規記事作成
    - [x] 記事編集
    - [x] 記事削除
  - [x] 認証システム
    - [x] ログイン/ログアウト
    - [x] サインアップ無効化（シングルユーザー）
    - [x] パスワードリセット（ログイン→/reset-password 導線）
  - [ ] ユーザー管理（シングルユーザーのためMVP対象外）

### Phase 4: 記事公開機能 [MVP中期]
**目標**: ブログ記事の公開・表示機能の実装

#### 4.1 公開記事表示 (優先度: 高)
  - [x] 記事一覧ページ（公開記事のみ）
  - [x] 個別記事ページ（slug）
  - [x] タグ機能
  - [ ] カテゴリ機能
  - [ ] 関連記事表示

### Phase 5: UI/UX改善 [MVP後期]
**目標**: 使いやすいUIの実装

#### 5.1 レスポンシブデザイン (優先度: 高)
- [ ] モバイル対応
- [ ] タブレット対応
- [ ] デスクトップ最適化

#### 5.2 ダークモード (優先度: 中)
- [ ] テーマ切り替え機能
- [ ] システム設定連携

### Phase 6: 拡張機能 [将来実装]
**目標**: MVP後の機能拡張

#### 6.1 高度なAI機能 (優先度: 中)
- [ ] RAGシステム
- [ ] リアルタイムWeb検索
- [ ] SEO最適化

#### 5.2 ポートフォリオ機能 (優先度: 低)
- [ ] 作品一覧
- [ ] プロジェクト詳細
- [ ] スキルセット表示

### Phase 6: 収益化 [将来実装]
**目標**: 収益化機能の実装

#### 6.1 アフィリエイト機能 (優先度: 低)
- [ ] リンク管理
- [ ] トラッキング

#### 6.2 サブスクリプション (優先度: 低)
- [ ] 有料会員機能
- [ ] 決済統合

## 3. 主要機能一覧

### MVP コア機能
1. **ブログシステム**
   - 記事の作成・編集・削除
   - マークダウンエディタ
   - カテゴリ・タグ機能

2. **シンプルなAI記事生成**
   - プロンプトベースの記事生成
   - 基本的なフォーマット
   - 手動画像アップロード

3. **認証機能**
   - メール/パスワード認証
   - 管理者ダッシュボード

4. **レスポンシブUI**
   - モバイルファーストデザイン
   - ダークモード対応

### 将来の拡張機能
1. **高度なAI機能** - RAG、リアルタイム検索
2. **AI画像生成** - 自動アイキャッチ画像
3. **ポートフォリオ機能** - 作品展示
4. **アフィリエイトシステム** - 収益化
5. **サブスクリプション** - 有料会員機能
6. **3D/VRM** - インタラクティブ要素

## 4. 想定スケジュール

### 短期 (1-2週間)
- Phase 1 完了
- 基本的なブログ機能稼働
- Firebase 完全統合

### 中期 (1ヶ月)
- Phase 2 完了
- 美麗なUI/UX実装
- レスポンシブ対応

### 長期 (2-3ヶ月)
- Phase 3-5 段階的実装
- 収益化機能実装
- インタラクティブ機能強化

## 5. 技術スタック

### フロントエンド
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS + Framer Motion
- **Editor**: React Rich Text Editor (Draft.js / Slate.js)
- **3D**: Three.js + React Three Fiber
- **Live2D**: Cubism SDK for Web

### バックエンド
- **Authentication**: Firebase Auth
- **Database**: Firestore
- **Storage**: Firebase Storage
- **Hosting**: Firebase Hosting
- **Functions**: Firebase Functions

### MVP 技術スタック
- **フロントエンド**: Next.js 14, TypeScript, Tailwind CSS
- **バックエンド**: Firebase (Auth, Firestore, Storage)
- **AI統合**: Google Gemini（デフォルト）+ OpenAI（オプション）
- **エディタ**: マークダウンエディタ

### 将来の拡張
- **高度なAI**: RAG, ベクトルDB
- **画像生成**: DALL-E / Midjourney
- **収益化**: Stripe, アフィリエイト

### 開発ツール
- **Package Manager**: npm
- **Linting**: ESLint + Prettier
- **Testing**: Jest + React Testing Library
- **CI/CD**: GitHub Actions（lint / type-check / build）

## 6. 技術課題と対策案

### 1. 認証・認可
**課題**: セキュアなユーザー管理
**対策**:
- Firebase Authentication の適切な実装
- ロールベースのアクセス制御
- パスワードリセット機能

### 2. データ構造設計
**課題**: スケーラブルなデータモデル
**対策**:
- 適切なFirestoreコレクション設計
- セキュリティルールの適切な設定
- データバックアップ戦略

### 3. パフォーマンス最適化
**課題**: 高速なページ読み込み
**対策**:
- 画像最適化
- コード分割
- キャッシュ戦略の実装

### 4. モバイル対応
**課題**: 様々なデバイスでの表示最適化
**対策**:
- モバイルファーストデザイン
- タッチ操作への対応
- オフライン機能の検討

## 7. 重大エラー発生時の処理方針

### エラー分類
1. **Critical**: サービス停止レベル
2. **High**: 主要機能影響
3. **Medium**: 一部機能影響
4. **Low**: UI/UX問題

### 対応フロー
1. **即座の影響範囲特定**
2. **暫定的な回避策実装**
3. **根本原因調査**
4. **恒久的な修正実装**
5. **再発防止策検討**

### エラーレポート形式
```
<error-report>
原因: [技術的詳細]
現状の進捗への影響: [具体的な影響範囲]
暫定的な対処案: [即座に実行可能な対策]
</error-report>
```

## 8. 成功指標

### 技術指標
- ページロード時間 < 3秒
- Lighthouse スコア > 90
- モバイル対応率 100%

### ビジネス指標
- 月間PV目標: 1,000+
- 問い合わせ件数: 月5件+
- サブスク登録者: 50人+

---

**最終更新**: 2025-08-09
**ステータス**: Phase 1 完了 / Phase 2 進行中
**次のアクション**:
- グローバルナビとトップページのUI強化
- ダッシュボード内の作成導線最適化（AIライター/手動作成の切り替え案内）
- 画像アップロード運用確認と Storage ルールのデプロイ（必要時 `firebase deploy --only storage`）
- テスト安定化の継続監視（`test:ci` 運用、必要に応じ `--maxWorkers` 検討）
- 依存の脆弱性監査の継続（`npm audit`）
